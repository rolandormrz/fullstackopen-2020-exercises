{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","components/PersonList.js","utils/PhonebookService.js","components/Notification.js","App.js","index.js"],"names":["Filter","filter","handleChange","value","onChange","PersonForm","fields","setFields","handlers","handleSubmit","newName","newNumber","setNewName","setNewNumber","onSubmit","pattern","required","type","Person","person","handleDelete","name","number","onClick","ulStyle","listStyleType","paddingLeft","PersonList","persons","personList","map","i","key","style","newPerson","axios","post","then","response","data","get","id","personToDeleteURL","delete","updatedPerson","put","Notification","message","styling","className","App","useState","setPersons","setFilter","notifDetails","setNotifDetails","useEffect","PhonebookService","setInfo","e","target","prepNotification","setTimeout","filteredPersons","toLowerCase","indexOf","preventDefault","foundIndex","findIndex","msg","window","confirm","returnedPerson","catch","createdPerson","concat","personToDelete","deletedPersonIndex","changedPersons","deletedPerson","splice","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d26d3867.chunk.js","sourcesContent":["import React from 'react';\n\nconst Filter = ({ filter, handleChange }) => {\n  return (\n    <div>\n      Search by Name: <input value={filter} onChange={handleChange} />\n    </div>\n  );\n}\n\nexport default Filter;","import React from 'react';\n\nconst PersonForm = ({ fields, setFields, handlers }) => {\n  const { handleChange, handleSubmit } = handlers;\n  const { newName, newNumber } = fields;\n  const { setNewName, setNewNumber } = setFields;\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <div>\n        name: <input value={newName} onChange={handleChange(setNewName)} pattern=\"^(\\w\\w+)\\s(\\w+)$\" required />\n        <br />\n        number: <input value={newNumber} onChange={handleChange(setNewNumber)} required />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n  </form>\n  );\n}\n\nexport default PersonForm;","import React from 'react';\n\nconst Person = ({ person, handleDelete }) => {\n  return (\n    <li>\n      {person.name} {person.number} <button onClick={() => handleDelete(person)}>Delete</button>\n    </li>\n  );\n}\n\nexport default Person;","import React from 'react';\nimport Person from './Person';\n\nconst ulStyle = {\n  listStyleType: \"none\",\n  paddingLeft: \"10px\"\n}\n\nconst PersonList = ({ persons, handleDelete }) => {\n  const personList = persons.map((person, i) => <Person key={i} person={person} handleDelete={handleDelete} />);\n\n  return (\n    <div>\n      <ul style={ulStyle}>\n        {personList}\n      </ul>\n    </div>\n  );\n}\n\nexport default PersonList;","import axios from 'axios';\n\nconst baseURLDev = 'http://localhost:3001/api/persons';\nconst baseURL = 'https://damp-wildwood-82283.herokuapp.com/api/persons';\nconst relativeURL = '/api/persons';\n\nconst create = newPerson => {\n  const request = axios.post(relativeURL, newPerson);\n  return request.then(response => response.data);\n}\n\nconst update = updatedPerson => {\n  const request = axios.put(`${relativeURL}/${updatedPerson.id}`, updatedPerson);\n  return request.then(response => response.data);\n}\n\nconst deletePerson = id => {\n  const personToDeleteURL = `${relativeURL}/${id}`;\n  return axios.delete(personToDeleteURL);\n}\n\nconst getAll = () => {\n  return axios.get(relativeURL).then(response => response.data);\n}\n\nexport default { create, getAll, deletePerson, update }","import React from 'react';\nimport './Notification.css';\n\nconst Notification = ({ message, styling }) => {\n  return (\n    <div className={styling}>\n      <p>{message}</p>\n    </div>\n  );\n}\n\nexport default Notification;","import React, { useState, useEffect } from 'react';\nimport './App.css';\nimport Filter from './components/Filter';\nimport PersonForm from './components/PersonForm';\nimport PersonList from './components/PersonList';\nimport PhonebookService from './utils/PhonebookService';\nimport Notification from './components/Notification';\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]); \n  const [ newName, setNewName ] = useState('');\n  const [ newNumber, setNewNumber ] = useState('');\n  const [ filter, setFilter ] = useState('');\n  const [ notifDetails, setNotifDetails ] = useState({ message: '', styling: '' });\n\n  useEffect(() => {\n    PhonebookService.getAll().then(data => setPersons(data));\n  }, []);\n  \n  const handleChange = setInfo => e => setInfo(e.target.value);\n\n  const prepNotification = (message, styling) => {\n    setNotifDetails({ message, styling })\n    setTimeout(() => setNotifDetails({ message: '', styling: ''}), 3000);\n  }\n\n  const handleDelete = personToDelete => {\n    PhonebookService.deletePerson(personToDelete.id)\n      .then(() => {\n        const deletedPersonIndex = persons.findIndex(person => personToDelete.id === person.id);\n        const changedPersons = [...persons];\n        const deletedPerson = changedPersons.splice(deletedPersonIndex, 1);\n        setPersons(changedPersons);\n        prepNotification(`${deletedPerson[0].name} has been removed from the phonebook`, 'success');\n      })\n      .catch(() => {\n        setPersons(persons.filter(person => person.id !== personToDelete.id));\n        prepNotification(`${personToDelete.name} has already been removed from the phonebook`, 'error');\n      })\n  }\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const foundIndex = persons.findIndex(person => person.name === newName);\n    \n    if(foundIndex !== -1) {\n      const msg = `${newName} already exists in the phonebook, replace the old number with the new one entered?`;\n      const result = window.confirm(msg); \n\n      if(result) {\n        const updatedPerson = { ...persons[foundIndex], number: newNumber };\n        PhonebookService.update(updatedPerson)\n          .then(returnedPerson => {\n            setPersons(persons.map(person => person.id === returnedPerson.id ? returnedPerson : person));\n            prepNotification(`${returnedPerson.name}'s number has been updated in the phonebook`, 'success');\n          })\n          .catch(() => {\n            prepNotification(`${updatedPerson.name} was removed in another instance. Cannot update ${updatedPerson.name}'s number`, 'error');\n            setPersons(persons.filter(person => person.id !== updatedPerson.id));\n          })\n      }\n    }\n    else {\n      const newPerson = { name: newName, number: newNumber };\n      PhonebookService.create(newPerson)\n        .then(createdPerson => {\n          setPersons(persons.concat(createdPerson))\n          prepNotification(`${createdPerson.name} has been added to the phonebook`, 'success');\n        });\n    }\n\n    setNewName('');\n    setNewNumber('');\n  }\n\n  const filteredPersons = filter === '' \n    ? persons \n    : persons.filter(person => {\n        const name = person.name.toLowerCase();\n        return name.indexOf(filter.toLowerCase()) !== -1;\n      })\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      { notifDetails.message && <Notification message={notifDetails.message} styling={notifDetails.styling} /> }\n      <Filter filter={filter} handleChange={handleChange(setFilter)} />\n      <h2>Add a new Entry</h2>\n      <PersonForm fields={{ newName, newNumber }} \n        setFields={{ setNewName, setNewNumber }} \n        handlers={{ handleChange, handleSubmit }} \n      />\n      <h2>Numbers</h2>\n      <PersonList persons={filteredPersons} handleDelete={handleDelete}/>\n    </div>\n  )\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}